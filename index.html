<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Angsthase Digital Art</title>
    {/* Tailwind CSS via CDN */}
    <script src="https://cdn.tailwindcss.com"></script>
    {/* Google Fonts */}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400&family=Raleway:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Basic Setup & Custom Styles */
        html { scroll-behavior: smooth; }
        body { font-family: 'Lato', sans-serif; position: relative; min-height: 100vh; padding-bottom: 4rem; /* Ensure space for footer */ }
        h1, h2, h3, h4, h5, h6 { font-family: 'Raleway', sans-serif; }
        img { background-color: #f3f4f6; /* Placeholder background */ }
        .gallery-img { width: 100%; height: 100%; object-fit: cover; cursor: pointer; display: block; }

        /* Fixed background with opacity */
        body::before {
            content: ''; position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: -1;
            background-image: url('https://res.cloudinary.com/duhxa0mbi/image/upload/v1744213680/ah_bgyg03.png');
            background-repeat: no-repeat; background-position: center center; background-size: contain;
            background-attachment: fixed; opacity: 0.25;
        }

        /* Custom Lightbox Styles (Reverted) */
        #lightbox-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.85);
            display: flex; align-items: center; justify-content: center;
            z-index: 50; /* High z-index */
            opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0s linear 0.3s;
            /* Allow background clicks only on overlay itself */
        }
        #lightbox-overlay.is-visible {
            opacity: 1; visibility: visible;
            transition: opacity 0.3s ease-in-out, visibility 0s linear 0s;
        }
        #lightbox-content {
            position: relative; max-width: 90vw; max-height: 85vh;
            /* Prevent clicks on content from closing lightbox */
            pointer-events: auto; /* Re-enable pointer events for content */
        }
        #lightbox-img {
            display: block; max-width: 100%; max-height: 100%; object-fit: contain;
            /* Prevent dragging image causing issues */
            -webkit-user-drag: none; user-select: none;
        }
        #lightbox-close {
            position: absolute; top: 5px; right: 10px; /* Adjusted position */
            background: rgba(0,0,0,0.3); border: none; color: white; font-size: 2rem;
            cursor: pointer; line-height: 1; padding: 0px 8px; border-radius: 4px;
            z-index: 51; /* Above image */
        }
        #lightbox-close:hover { background: rgba(0,0,0,0.6); }

        /* Prev/Next Buttons */
        .lightbox-nav {
            position: absolute; top: 50%; transform: translateY(-50%);
            background: rgba(0,0,0,0.3); border: none; color: white; font-size: 2rem;
            cursor: pointer; padding: 10px 5px; border-radius: 4px;
            z-index: 51; /* Above image */
            line-height: 1;
        }
        .lightbox-nav:hover { background: rgba(0,0,0,0.6); }
        #lightbox-prev { left: 10px; }
        #lightbox-next { right: 10px; }


        /* Fade-in Animation Styles */
        .fade-in-section { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .fade-in-section.is-visible { opacity: 1; transform: translateY(0); }

        /* Divider Line Animation */
        .divider-line { stroke-dasharray: 1000; stroke-dashoffset: 1000; transition: stroke-dashoffset 1.5s ease-in-out; }
        .fade-in-section.is-visible .divider-line { stroke-dashoffset: 0; }

    </style>
</head>
<body class="bg-white text-gray-800 antialiased">

    <header class="py-6 px-4 md:px-8 border-b border-gray-200 sticky top-0 z-30 bg-white/80 backdrop-blur-sm">
        {/* Header content... */}
         <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center gap-3">
                <img src="https://res.cloudinary.com/duhxa0mbi/image/upload/v1744213680/ah_bgyg03.png"
                     alt="Angsthase Logo"
                     class="w-10 h-10 rounded-full object-cover border border-gray-200">
                <h1 class="text-2xl md:text-3xl font-bold text-black">Angsthase Digital Art</h1>
            </div>
            <nav>
                <ul class="flex space-x-4 md:space-x-6 text-gray-600">
                    <li><a href="#gallery" class="hover:text-slate-600 rounded p-1 focus:outline-none focus:ring-2 focus:ring-blue-500">Gallery</a></li>
                    <li><a href="#about-style" class="hover:text-slate-600 rounded p-1 focus:outline-none focus:ring-2 focus:ring-blue-500">About</a></li>
                    <li><a href="#contact" class="hover:text-slate-600 rounded p-1 focus:outline-none focus:ring-2 focus:ring-blue-500">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="mb-20 text-center pt-16">
        {/* Hero content... */}
         <div id="hero-image-container" class="w-full h-48 md:h-72 bg-gray-100 flex items-center justify-center mb-8 overflow-hidden">
             <img id="hero-image" src="https://res.cloudinary.com/duhxa0mbi/image/upload/v1744274602/hero_yjoq8w.png"
                  alt="Hero Artwork: Abstract representation of Angsthase Digital Art"
                  class="w-full h-full object-contain"
                  onerror="this.onerror=null; this.src='https://placehold.co/1200x400/F3F4F6/1F2937?text=Image+Error'; this.alt='Image failed to load';">
         </div>
         <div class="container mx-auto px-4 md:px-8">
             <h2 class="text-3xl md:text-4xl font-bold mb-4 text-black mt-8">Welcome to Angsthase Digital Art</h2>
             <p class="text-gray-700 max-w-2xl mx-auto">Exploring themes through digital mediums. Browse the gallery to see the latest creations.</p>
        </div>
    </section>

    <div class="fade-in-section container mx-auto px-4 md:px-8 my-16">
         <svg width="100%" height="5" viewBox="0 0 1000 5" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-slate-500 block">
            <line class="divider-line" x1="0" y1="2.5" x2="1000" y2="2.5" stroke="currentColor" stroke-width="1"/>
        </svg>
    </div>

    <main class="container mx-auto px-4 md:px-8 py-16 relative z-10 -mt-16">
        {/* Content Section 1 */}
        <section class="fade-in-section mb-20 flex flex-col md:flex-row items-center gap-8 md:gap-12">
            {/* Spotlight 1 content... */}
            <div class="md:w-7/12 text-gray-700">
                <h3 class="text-2xl font-bold mb-4 text-black">Project Spotlight</h3>
                <p class="mb-4">
                    Titled 'Café Corner, Potsdam Night', this piece highlights the contrast...
                </p>
                <p>
                    The focus is on capturing a specific feeling of quiet solitude...
                </p>
            </div>
            <div class="md:w-5/12 md:-mr-6 lg:-mr-10 relative">
                 <img src="https://res.cloudinary.com/duhxa0mbi/image/upload/v1744209003/7_eiddxy.png"
                     alt="Artwork Example 1: Café Corner, Potsdam Night" class="w-full h-auto rounded-lg border border-gray-200 block"
                     onerror="this.onerror=null; this.src='https://placehold.co/600x400/E5E7EB/1F2937?text=Image+Error'; this.alt='Image failed to load';">
            </div>
        </section>

        {/* Content Section 2 */}
        <section class="fade-in-section mb-20 flex flex-col md:flex-row-reverse items-center gap-8 md:gap-12">
             {/* Spotlight 2 content... */}
            <div class="md:w-7/12 text-gray-700">
                <h3 class="text-2xl font-bold mb-4 text-black">Atmospheric Textures</h3>
                 <p class="mb-4">
                    Titled 'Woodhouse, Baabe', this artwork captures a structure...
                 </p>
                 <p>
                    The focus is on the interplay of light...
                 </p>
            </div>
           <div class="md:w-5/12 md:-ml-6 lg:-ml-10">
                <img src="https://res.cloudinary.com/duhxa0mbi/image/upload/v1744209004/9_gkmvef.png"
                     alt="Artwork Example 2: Woodhouse, Baabe" class="w-full h-auto rounded-lg border border-gray-200"
                     onerror="this.onerror=null; this.src='https://placehold.co/600x400/E5E7EB/1F2937?text=Image+Error'; this.alt='Image failed to load';">
           </div>
        </section>

        {/* About Section */}
        <section id="about-style" class="fade-in-section mb-20 max-w-4xl mx-auto text-gray-700 pt-16 -mt-16">
             {/* About content... */}
            <h3 class="text-3xl font-bold mb-6 text-center text-black">About The Art Style</h3>
             <p class="mb-4">
                The digital art originates from photographs...
             </p>
             <p class="mb-4">
                The resulting style is distinctly painterly...
             </p>
             <p>
                Through subjects often featuring architecture...
             </p>
        </section>

        <section id="gallery" class="fade-in-section mb-20 pt-16 -mt-16">
            <h3 class="text-3xl font-bold mb-8 text-center text-black">Gallery</h3>
            {/* Gallery items - structure reverted, no data attributes needed now */}
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6">
                 <div class="aspect-[297/210] bg-gray-100 rounded-lg overflow-hidden border border-gray-200">
                    <img src="https://res.cloudinary.com/duhxa0mbi/image/upload/c_thumb,w_300/v1744209004/5_ulpq6j.png"
                         data-full-src="https://res.cloudinary.com/duhxa0mbi/image/upload/v1744209004/5_ulpq6j.png"
                         alt="Artwork: Moody landscape 1" class="gallery-img gallery-item-clickable" onerror="this.onerror=null; this.parentElement.innerHTML='<div class=\'flex items-center justify-center h-full text-xs text-gray-500\'>Image Error</div>';">
                </div>
                <div class="aspect-[297/210] bg-gray-100 rounded-lg overflow-hidden border border-gray-200">
                    <img src="https://res.cloudinary.com/duhxa0mbi/image/upload/c_thumb,w_300/v1744209003/8_vtftql.png"
                         data-full-src="https://res.cloudinary.com/duhxa0mbi/image/upload/v1744209003/8_vtftql.png"
                         alt="Artwork: Architectural detail 1" class="gallery-img gallery-item-clickable" onerror="this.onerror=null; this.parentElement.innerHTML='<div class=\'flex items-center justify-center h-full text-xs text-gray-500\'>Image Error</div>';">
                </div>
                 <div class="aspect-[297/210] bg-gray-100 rounded-lg overflow-hidden border border-gray-200">
                    <img src="https://res.cloudinary.com/duhxa0mbi/image/upload/c_thumb,w_300/v1744209004/9_gkmvef.png"
                         data-full-src="https://res.cloudinary.com/duhxa0mbi/image/upload/v1744209004/9_gkmvef.png"
                         alt="Artwork: Woodhouse, Baabe" class="gallery-img gallery-item-clickable" onerror="this.onerror=null; this.parentElement.innerHTML='<div class=\'flex items-center justify-center h-full text-xs text-gray-500\'>Image Error</div>';">
                 </div>
                 {/* ... Add the rest of your gallery items here, ensuring each has data-full-src ... */}
            </div>
        </section>

        <section id="contact" class="fade-in-section mb-20 pt-16 -mt-16 max-w-xl mx-auto text-center">
            {/* Contact content... */}
             <h3 class="text-3xl font-bold mb-6 text-black">Contact</h3>
            <p class="text-gray-700 mb-4">
                For inquiries about the artwork or potential commissions, please reach out.
            </p>
            <p class="text-lg font-semibold text-slate-600">
                 contact [at] example [dot] com
            </p>
        </section>

    </main>

    <footer class="absolute bottom-0 left-0 right-0 py-4 px-4 md:px-8 border-t border-gray-200 bg-gray-50 text-center z-20">
        <p class="text-sm text-gray-500">&copy; <span id="current-year"></span> Angsthase Digital Art. All rights reserved.</p>
    </footer>

    <div id="lightbox-overlay" style="pointer-events: none;"> {/* Disable pointer events on overlay itself */}
        <div id="lightbox-content"> {/* pointer-events: auto re-enables for content */}
            <img id="lightbox-img" src="" alt="Enlarged gallery image">
            <button id="lightbox-close" aria-label="Close lightbox">&times;</button>
            {/* Added Prev/Next Buttons */}
            <button id="lightbox-prev" class="lightbox-nav" aria-label="Previous image">&lt;</button>
            <button id="lightbox-next" class="lightbox-nav" aria-label="Next image">&gt;</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Set Current Year in Footer ---
            const yearSpan = document.getElementById('current-year');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }

            // --- Fade-in Sections on Scroll ---
            const fadeElements = document.querySelectorAll('.fade-in-section');
            if ("IntersectionObserver" in window) {
                const observer = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                            // observer.unobserve(entry.target); // Optional: stop observing
                        }
                    });
                }, { threshold: 0.1 });
                fadeElements.forEach(el => observer.observe(el));
            } else {
                fadeElements.forEach(el => el.classList.add('is-visible')); // Fallback
            }

            // --- Enhanced Custom Gallery Lightbox ---
            const lightboxOverlay = document.getElementById('lightbox-overlay');
            const lightboxContent = document.getElementById('lightbox-content');
            const lightboxImg = document.getElementById('lightbox-img');
            const lightboxClose = document.getElementById('lightbox-close');
            const lightboxPrev = document.getElementById('lightbox-prev');
            const lightboxNext = document.getElementById('lightbox-next');
            const galleryItems = document.querySelectorAll('.gallery-item-clickable');

            let galleryData = []; // To store {src, alt} for all gallery items
            let currentIndex = 0;
            let touchStartX = 0;
            let touchMoveX = 0;
            const swipeThreshold = 50; // Min pixels needed for a swipe action

            // Function to update the lightbox image
            const showImage = (index) => {
                if (index >= 0 && index < galleryData.length) {
                    currentIndex = index;
                    lightboxImg.src = galleryData[currentIndex].src;
                    lightboxImg.alt = galleryData[currentIndex].alt;
                }
                 // Hide/show arrows at bounds
                lightboxPrev.style.display = (currentIndex === 0) ? 'none' : 'block';
                lightboxNext.style.display = (currentIndex === galleryData.length - 1) ? 'none' : 'block';
            };

            // Navigation functions
            const showNext = () => {
                showImage(currentIndex + 1);
            };
            const showPrev = () => {
                showImage(currentIndex - 1);
            };

            // Open lightbox and prepare gallery data
            galleryItems.forEach((item, index) => {
                item.addEventListener('click', (e) => {
                    // Build gallery data array from DOM elements each time it opens
                    // This assumes the DOM order matches desired gallery order
                    galleryData = Array.from(galleryItems).map(imgElement => ({
                        // Use data-full-src for the lightbox source
                        src: imgElement.dataset.fullSrc || imgElement.src,
                        alt: imgElement.alt
                    }));

                    if (galleryData.length > 0) {
                        showImage(index); // Show the clicked image first
                        lightboxOverlay.classList.add('is-visible');
                        document.body.style.overflow = 'hidden'; // Prevent background scroll
                    }
                });
            });

            // Close lightbox function
            const closeLightbox = () => {
                lightboxOverlay.classList.remove('is-visible');
                document.body.style.overflow = ''; // Restore background scroll
            };

            // Event listeners for closing
            lightboxClose.addEventListener('click', closeLightbox);
            lightboxOverlay.addEventListener('click', (e) => {
                 // Only close if clicking the overlay itself, not content
                 if (e.target === lightboxOverlay) {
                    closeLightbox();
                 }
            });

            // Event listeners for Nav buttons
            lightboxPrev.addEventListener('click', showPrev);
            lightboxNext.addEventListener('click', showNext);

            // Keyboard Navigation
            document.addEventListener('keydown', (e) => {
                if (lightboxOverlay.classList.contains('is-visible')) {
                    if (e.key === 'Escape') {
                        closeLightbox();
                    } else if (e.key === 'ArrowLeft') {
                        showPrev();
                    } else if (e.key === 'ArrowRight') {
                        showNext();
                    }
                }
            });

            // --- Swipe Navigation Logic ---
            lightboxContent.addEventListener('touchstart', (e) => {
                 // Check if touching the image or buttons, not overlay background
                 if (e.target === lightboxImg || e.target === lightboxPrev || e.target === lightboxNext) {
                    touchStartX = e.touches[0].clientX;
                    touchMoveX = touchStartX; // Initialize moveX
                 }
            }, { passive: true }); // Use passive true if not calling preventDefault

            lightboxContent.addEventListener('touchmove', (e) => {
                 if (e.target === lightboxImg || e.target === lightboxPrev || e.target === lightboxNext) {
                    touchMoveX = e.touches[0].clientX;
                    // Optional: Add visual feedback during swipe here if desired
                 }
            }, { passive: true });

            lightboxContent.addEventListener('touchend', (e) => {
                 if (e.target === lightboxImg || e.target === lightboxPrev || e.target === lightboxNext) {
                    const deltaX = touchMoveX - touchStartX;

                    if (Math.abs(deltaX) > swipeThreshold) {
                        if (deltaX < 0) { // Swiped Left (Next image)
                            showNext();
                        } else { // Swiped Right (Previous image)
                            showPrev();
                        }
                    }
                    // Reset touch coordinates
                    touchStartX = 0;
                    touchMoveX = 0;
                 }
            });

        }); // End DOMContentLoaded
    </script>

</body>
</html>
